{% extends 'base.html' %}

{% block body %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">{{ the_title }}</a>
</nav>

<div class="wrapper">
    <!-- Sidebar -->
    <div class="sidebar">
        <a href="#" id="javni-geoportal" class="sidebar-link">Javni Geoportal</a>
        <a href="#" id="interni-geoportal-produkcija" class="sidebar-link">Interni Geoportal - produkcija</a>
        <a href="#" id="interni-geoportal-test" class="sidebar-link">Interni Geoportal - test</a>
        <a href="#" id="NIPP" class="sidebar-link">NIPP</a>
    </div>

    <!-- Page Content -->
    <div class="content">

        <h1 id="dashboard-title" class="d-flex justify-content-between align-items-center">
            <span>Pregled servisa izvora podataka</span>
            <button id="exportButton" class="btn btn-primary">
                <i class="bi bi-download"></i> Export Data
            </button>
        </h1>
        <p class="icon-paragraph"><img src="./static/icons/dashboard_logo.png" alt="icon" class="icon-image">Welcome to the Dashboard - Health check overview.</p>

        <!-- Progress Bar -->
        <div id="progress-container" class="progress-container">
            <div class="progress-bar" style="background-color: #f3f3f3;"></div>
            <div class="progress-text">Loading Data...</div>
        </div>

        <!-- Dropdown for showing/hiding columns -->
        <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" id="toggleColumnsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="bi bi-eye"></i>
            </button>
            <div class="dropdown-menu" aria-labelledby="toggleColumnsDropdown">
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn1" class="column-toggle" checked>
                    <label for="toggleColumn1" onclick="event.stopPropagation();">Geoserver Title</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn2" class="column-toggle" checked>
                    <label for="toggleColumn2" onclick="event.stopPropagation();">Geoserver WMS Name</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn3" class="column-toggle" checked>
                    <label for="toggleColumn3" onclick="event.stopPropagation();">Geoportal Name</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn4" class="column-toggle" checked>
                    <label for="toggleColumn4" onclick="event.stopPropagation();">Geoportal Topic</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn5" class="column-toggle" checked>
                    <label for="toggleColumn5" onclick="event.stopPropagation();">Geoportal Stores</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn6" class="column-toggle" checked>
                    <label for="toggleColumn6" onclick="event.stopPropagation();">Source</label>
                </div>
                <div class="dropdown-item">
                    <input type="checkbox" id="toggleColumn7" class="column-toggle" checked>
                    <label for="toggleColumn7" onclick="event.stopPropagation();">Data</label>
                </div>
                <div class="dropdown-divider"></div>
                <div class="dropdown-item">
                    <button type="button" class="btn btn-link" id="selectAllColumns">View All</button>
                </div>
            </div>
        </div>

        <!-- Table -->
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Geoserver Title <br><input type="text" id="searchTitle" placeholder="Search Title"></th>
                    <th>Geoserver WMS name <br><input type="text" id="searchWMSName" placeholder="Search WMS Name"></th>
                    <th>Geoportal Name <br><input type="text" id="searchGeoportalName" placeholder="Search Geoportal Name"></th>
                    <th>Geoportal Topic <br><input type="text" id="searchGeoportalTopic" placeholder="Search Geoportal Topic"></th>
                    <th>Geoserver Stores<br><input type="text" id="searchSource" placeholder="Search Source"></th>
                    <th>Source<br><input type="text" id="searchServer" placeholder="Search Data"></th>
                    <th>Data</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Dynamic rows will be added here -->
            </tbody>
        </table>

    </div>
</div>

{% endblock %}

